<div style="max-width: 100%; font-family: system-ui, -apple-system, sans-serif; line-height: 1.5; color: #333;">
    <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 24px; text-align: center;">
        <h2 style="margin: 0 0 8px 0; color: #2c3e50;">ðŸš— Rental Car Insurance Checker</h2>
        <p style="margin: 0; color: #666;">Get clear, actionable instructions for your business travel</p>
    </div>
    
    <form id="rentalInsuranceForm" style="margin-bottom: 24px;">
        <div style="margin-bottom: 16px;">
            <label style="display: block; margin-bottom: 6px; font-weight: 600; color: #2c3e50;">
                Which state will you be renting a car in?
            </label>
            <select id="travelState" required style="width: 100%; padding: 10px; border: 2px solid #e1e5e9; border-radius: 6px; font-size: 16px; background: white;">
                <option value="">Select your destination state...</option>
                <option value="Alabama">Alabama</option>
                <option value="Alaska">Alaska</option>
                <option value="Arizona">Arizona</option>
                <option value="Arkansas">Arkansas</option>
                <option value="California">California</option>
                <option value="Colorado">Colorado</option>
                <option value="Connecticut">Connecticut</option>
                <option value="Delaware">Delaware</option>
                <option value="Florida">Florida</option>
                <option value="Georgia">Georgia</option>
                <option value="Hawaii">Hawaii</option>
                <option value="Idaho">Idaho</option>
                <option value="Illinois">Illinois</option>
                <option value="Indiana">Indiana</option>
                <option value="Iowa">Iowa</option>
                <option value="Kansas">Kansas</option>
                <option value="Kentucky">Kentucky</option>
                <option value="Louisiana">Louisiana</option>
                <option value="Maine">Maine</option>
                <option value="Maryland">Maryland</option>
                <option value="Massachusetts">Massachusetts</option>
                <option value="Michigan">Michigan</option>
                <option value="Minnesota">Minnesota</option>
                <option value="Mississippi">Mississippi</option>
                <option value="Missouri">Missouri</option>
                <option value="Montana">Montana</option>
                <option value="Nebraska">Nebraska</option>
                <option value="Nevada">Nevada</option>
                <option value="New Hampshire">New Hampshire</option>
                <option value="New Jersey">New Jersey</option>
                <option value="New Mexico">New Mexico</option>
                <option value="New York">New York</option>
                <option value="North Carolina">North Carolina</option>
                <option value="North Dakota">North Dakota</option>
                <option value="Ohio">Ohio</option>
                <option value="Oklahoma">Oklahoma</option>
                <option value="Oregon">Oregon</option>
                <option value="Pennsylvania">Pennsylvania</option>
                <option value="Rhode Island">Rhode Island</option>
                <option value="South Carolina">South Carolina</option>
                <option value="South Dakota">South Dakota</option>
                <option value="Tennessee">Tennessee</option>
                <option value="Texas">Texas</option>
                <option value="Utah">Utah</option>
                <option value="Vermont">Vermont</option>
                <option value="Virginia">Virginia</option>
                <option value="Washington">Washington</option>
                <option value="West Virginia">West Virginia</option>
                <option value="Wisconsin">Wisconsin</option>
                <option value="Wyoming">Wyoming</option>
            </select>
        </div>
        
        <div style="margin-bottom: 16px;">
            <label style="display: block; margin-bottom: 6px; font-weight: 600; color: #2c3e50;">
                Do you have personal auto insurance that covers business rentals?
            </label>
            <select id="personalAuto" required style="width: 100%; padding: 10px; border: 2px solid #e1e5e9; border-radius: 6px; font-size: 16px; background: white;">
                <option value="">Select an option...</option>
                <option value="yes">Yes, I have personal auto insurance that covers business rentals</option>
                <option value="no">No, I don't have personal auto insurance</option>
                <option value="unsure">I'm not sure if my personal auto covers business rentals</option>
            </select>
        </div>
        
        <div style="margin-bottom: 20px;">
            <label style="display: block; margin-bottom: 6px; font-weight: 600; color: #2c3e50;">
                Employee Name (optional)
            </label>
            <input type="text" id="employeeName" placeholder="Enter your name for personalized results" style="width: 100%; padding: 10px; border: 2px solid #e1e5e9; border-radius: 6px; font-size: 16px;">
        </div>
        
        <button type="submit" style="width: 100%; background: #0066cc; color: white; border: none; padding: 12px; border-radius: 6px; font-size: 16px; font-weight: 600; cursor: pointer;">
            Tell Me Exactly What To Do
        </button>
    </form>
    
    <div id="rentalResults" style="display: none;">
        <!-- Results will be populated here -->
    </div>
</div>

<script>
(function() {
    const stateData = {
        "California": { type: "special", rentalProvides: false },
        "Arizona": { type: "rental_primary", rentalProvides: true },
        "Florida": { type: "rental_primary", rentalProvides: true },
        "Idaho": { type: "rental_primary", rentalProvides: true },
        "Massachusetts": { type: "rental_primary", rentalProvides: true },
        "Michigan": { type: "rental_primary", rentalProvides: true },
        "New York": { type: "rental_primary", rentalProvides: true },
        "South Carolina": { type: "rental_primary", rentalProvides: true },
        "Virginia": { type: "rental_primary", rentalProvides: true },
        "Arkansas": { type: "personal_primary", rentalProvides: true },
        "Delaware": { type: "personal_primary", rentalProvides: true },
        "Georgia": { type: "personal_primary", rentalProvides: true },
        "Indiana": { type: "personal_primary", rentalProvides: true },
        "Louisiana": { type: "personal_primary", rentalProvides: true },
        "Maryland": { type: "personal_primary", rentalProvides: true },
        "Minnesota": { type: "personal_primary", rentalProvides: true },
        "Missouri": { type: "personal_primary", rentalProvides: true },
        "North Dakota": { type: "personal_primary", rentalProvides: true },
        "Oregon": { type: "personal_primary", rentalProvides: true },
        "Rhode Island": { type: "personal_primary", rentalProvides: true },
        "Tennessee": { type: "personal_primary", rentalProvides: true },
        "Utah": { type: "personal_primary", rentalProvides: true },
        "West Virginia": { type: "personal_primary", rentalProvides: true }
    };

    const defaultStates = ["Alabama", "Alaska", "Colorado", "Connecticut", "Hawaii", "Illinois", "Iowa", "Kansas", "Kentucky", "Maine", "Mississippi", "Montana", "Nebraska", "Nevada", "New Hampshire", "New Jersey", "New Mexico", "North Carolina", "Ohio", "Oklahoma", "Pennsylvania", "South Dakota", "Texas", "Vermont", "Washington", "Wisconsin", "Wyoming"];
    
    defaultStates.forEach(state => {
        if (!stateData[state]) {
            stateData[state] = { type: "case_by_case", rentalProvides: true };
        }
    });

    document.getElementById('rentalInsuranceForm').addEventListener('submit', function(e) {
        e.preventDefault();
        
        const state = document.getElementById('travelState').value;
        const personalAuto = document.getElementById('personalAuto').value;
        const employeeName = document.getElementById('employeeName').value;
        
        if (!state || !personalAuto) {
            alert('Please fill in all required fields.');
            return;
        }
        
        generateInstructions(state, personalAuto, employeeName);
    });

    function generateInstructions(state, personalAuto, employeeName) {
        const stateInfo = stateData[state];
        const resultsDiv = document.getElementById('rentalResults');
        const greeting = employeeName ? employeeName + ', here\'s' : 'Here\'s';
        
        let html = '<div style="background: #0066cc; color: white; padding: 20px; border-radius: 8px; text-align: center; margin-bottom: 20px;">';
        html += '<h3 style="margin: 0;">' + greeting + ' exactly what you need to do for ' + state + '</h3>';
        html += '</div>';

        // Step 1: Chase Card Setup
        html += '<div style="background: #f8fff8; border: 1px solid #d4edda; border-left: 4px solid #28a745; border-radius: 8px; padding: 20px; margin-bottom: 16px;">';
        html += '<h4 style="margin: 0 0 8px 0; color: #155724;">STEP 1: Set Up Your Chase Card Protection</h4>';
        html += '<p style="margin: 0 0 12px 0; color: #666; font-size: 14px;">This gives you up to $60,000 collision/theft coverage</p>';
        html += '<div style="background: #ffffff; padding: 12px; border-radius: 4px; margin: 8px 0; border-left: 3px solid #28a745;">âœ“ Pay for the ENTIRE rental with your Chase Business Ink card</div>';
        html += '<div style="background: #ffffff; padding: 12px; border-radius: 4px; margin: 8px 0; border-left: 3px solid #28a745;">âœ“ When asked about insurance, SAY NO to collision damage waiver (CDW/LDW)</div>';
        html += '<div style="background: #ffffff; padding: 12px; border-radius: 4px; margin: 8px 0; border-left: 3px solid #28a745;">âœ“ Confirm the rental is for business purposes</div>';
        html += '</div>';

        // Step 2: Liability Insurance
        if (state === "California") {
            html += '<div style="background: #fff5f5; border: 1px solid #f5c6cb; border-left: 4px solid #dc3545; border-radius: 8px; padding: 20px; margin-bottom: 16px;">';
            html += '<h4 style="margin: 0 0 8px 0; color: #721c24;">ðŸš¨ STEP 2: CALIFORNIA SPECIAL REQUIREMENTS</h4>';
            html += '<p style="margin: 0 0 12px 0; color: #721c24; font-weight: 600;">California rental companies DON\'T provide automatic liability coverage!</p>';
            
            if (personalAuto === "yes") {
                html += '<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin: 16px 0;">';
                html += '<div style="background: #28a745; color: white; padding: 16px; border-radius: 6px; text-align: center; position: relative;">';
                html += '<div style="position: absolute; top: -8px; left: 50%; transform: translateX(-50%); background: #dc3545; color: white; padding: 2px 8px; font-size: 11px; border-radius: 12px;">RECOMMENDED</div>';
                html += '<strong>OPTION A: Use Your Personal Insurance</strong>';
                html += '<p style="margin: 8px 0 0 0; font-size: 14px;">Your personal auto insurance should cover you</p>';
                html += '</div>';
                html += '<div style="background: white; color: #2c3e50; padding: 16px; border-radius: 6px; text-align: center; border: 2px solid #e1e5e9;">';
                html += '<strong>OPTION B: Buy from Rental Company</strong>';
                html += '<p style="margin: 8px 0 0 0; font-size: 14px;">Purchase liability insurance at counter</p>';
                html += '</div>';
                html += '</div>';
                html += '<div style="background: #fff5f5; padding: 12px; border-radius: 4px; margin: 8px 0; border-left: 3px solid #dc3545; color: #721c24;">REQUIRED: Call your auto insurance company BEFORE your trip</div>';
                html += '<div style="background: #fff5f5; padding: 12px; border-radius: 4px; margin: 8px 0; border-left: 3px solid #dc3545; color: #721c24;">Ask: "Does my policy cover business rental cars in California?"</div>';
                html += '<div style="background: #fff5f5; padding: 12px; border-radius: 4px; margin: 8px 0; border-left: 3px solid #dc3545; color: #721c24;">If NOT covered, you MUST buy liability insurance from rental company</div>';
            } else if (personalAuto === "no") {
                html += '<div style="background: #fff5f5; padding: 12px; border-radius: 4px; margin: 8px 0; border-left: 3px solid #dc3545; color: #721c24;">YOU MUST BUY liability insurance from the rental company</div>';
                html += '<div style="background: #fff5f5; padding: 12px; border-radius: 4px; margin: 8px 0; border-left: 3px solid #dc3545; color: #721c24;">Minimum needed: $30,000/$60,000/$15,000 coverage</div>';
                html += '<div style="background: #fffbf0; padding: 12px; border-radius: 4px; margin: 8px 0; border-left: 3px solid #ffc107; color: #856404;">This is NOT optional in California</div>';
            } else {
                html += '<div style="background: #fff5f5; padding: 12px; border-radius: 4px; margin: 8px 0; border-left: 3px solid #dc3545; color: #721c24;">URGENT: Call your auto insurance company TODAY</div>';
                html += '<div style="background: #fff5f5; padding: 12px; border-radius: 4px; margin: 8px 0; border-left: 3px solid #dc3545; color: #721c24;">Ask: "Does my policy cover business rental cars in California?"</div>';
                html += '<div style="background: #fff5f5; padding: 12px; border-radius: 4px; margin: 8px 0; border-left: 3px solid #dc3545; color: #721c24;">If YES: You\'re covered. If NO: Buy from rental company</div>';
            }
            html += '</div>';
            
        } else if (stateInfo.type === "rental_primary") {
            html += '<div style="background: #f8fff8; border: 1px solid #d4edda; border-left: 4px solid #28a745; border-radius: 8px; padding: 20px; margin-bottom: 16px;">';
            html += '<h4 style="margin: 0 0 8px 0; color: #155724;">STEP 2: LIABILITY INSURANCE - YOU\'RE COVERED âœ…</h4>';
            html += '<p style="margin: 0 0 12px 0; color: #666; font-size: 14px;">The rental company automatically provides liability insurance in ' + state + '</p>';
            html += '<div style="background: #ffffff; padding: 12px; border-radius: 4px; margin: 8px 0; border-left: 3px solid #28a745;">âœ“ The rental company will automatically provide liability coverage</div>';
            html += '<div style="background: #ffffff; padding: 12px; border-radius: 4px; margin: 8px 0; border-left: 3px solid #28a745;">âœ“ You don\'t need to buy additional liability insurance</div>';
            html += '<div style="background: #f8f9fa; padding: 12px; border-radius: 4px; margin: 8px 0; border-left: 3px solid #0066cc;">ðŸ’¡ Consider declining their liability insurance to save money</div>';
            html += '</div>';
            
        } else if (stateInfo.type === "personal_primary") {
            if (personalAuto === "yes") {
                html += '<div style="background: #f8fff8; border: 1px solid #d4edda; border-left: 4px solid #28a745; border-radius: 8px; padding: 20px; margin-bottom: 16px;">';
                html += '<h4 style="margin: 0 0 8px 0; color: #155724;">STEP 2: LIABILITY INSURANCE - YOUR PERSONAL POLICY COVERS YOU âœ…</h4>';
                html += '<p style="margin: 0 0 12px 0; color: #666; font-size: 14px;">Your personal auto insurance is primary in ' + state + '</p>';
                html += '<div style="background: #ffffff; padding: 12px; border-radius: 4px; margin: 8px 0; border-left: 3px solid #28a745;">âœ“ Your personal auto insurance will cover liability</div>';
                html += '<div style="background: #ffffff; padding: 12px; border-radius: 4px; margin: 8px 0; border-left: 3px solid #28a745;">âœ“ The rental company has backup coverage if needed</div>';
                html += '<div style="background: #f8f9fa; padding: 12px; border-radius: 4px; margin: 8px 0; border-left: 3px solid #0066cc;">ðŸ’¡ You can decline the rental company\'s liability insurance</div>';
                html += '</div>';
            } else {
                html += '<div style="background: #fffbf0; border: 1px solid #ffeaa7; border-left: 4px solid #ffc107; border-radius: 8px; padding: 20px; margin-bottom: 16px;">';
                html += '<h4 style="margin: 0 0 8px 0; color: #856404;">STEP 2: LIABILITY INSURANCE - BUY FROM RENTAL COMPANY</h4>';
                html += '<p style="margin: 0 0 12px 0; color: #666; font-size: 14px;">You need liability coverage since you don\'t have personal auto insurance</p>';
                html += '<div style="background: #fffbf0; padding: 12px; border-radius: 4px; margin: 8px 0; border-left: 3px solid #ffc107; color: #856404;">BUY liability insurance from the rental company</div>';
                html += '<div style="background: #f8f9fa; padding: 12px; border-radius: 4px; margin: 8px 0; border-left: 3px solid #0066cc;">The rental company has backup coverage, but buying gives you better protection</div>';
                html += '</div>';
            }
        } else {
            if (personalAuto === "yes") {
                html += '<div style="background: #fffbf0; border: 1px solid #ffeaa7; border-left: 4px solid #ffc107; border-radius: 8px; padding: 20px; margin-bottom: 16px;">';
                html += '<h4 style="margin: 0 0 8px 0; color: #856404;">STEP 2: LIABILITY INSURANCE - VERIFY YOUR COVERAGE</h4>';
                html += '<p style="margin: 0 0 12px 0; color: #666; font-size: 14px;">' + state + ' rules vary - confirm your coverage</p>';
                html += '<div style="background: #fffbf0; padding: 12px; border-radius: 4px; margin: 8px 0; border-left: 3px solid #ffc107; color: #856404;">Call your auto insurance to confirm business rental coverage</div>';
                html += '<div style="background: #fffbf0; padding: 12px; border-radius: 4px; margin: 8px 0; border-left: 3px solid #ffc107; color: #856404;">Ask about coverage limits in ' + state + '</div>';
                html += '<div style="background: #f8f9fa; padding: 12px; border-radius: 4px; margin: 8px 0; border-left: 3px solid #0066cc;">The rental company will have backup coverage available</div>';
                html += '</div>';
            } else {
                html += '<div style="background: #fffbf0; border: 1px solid #ffeaa7; border-left: 4px solid #ffc107; border-radius: 8px; padding: 20px; margin-bottom: 16px;">';
                html += '<h4 style="margin: 0 0 8px 0; color: #856404;">STEP 2: LIABILITY INSURANCE - BUY COVERAGE</h4>';
                html += '<p style="margin: 0 0 12px 0; color: #666; font-size: 14px;">Get liability insurance for protection</p>';
                html += '<div style="background: #fffbf0; padding: 12px; border-radius: 4px; margin: 8px 0; border-left: 3px solid #ffc107; color: #856404;">Buy liability insurance from the rental company</div>';
                html += '<div style="background: #f8f9fa; padding: 12px; border-radius: 4px; margin: 8px 0; border-left: 3px solid #0066cc;">This protects you if you injure others or damage their property</div>';
                html += '</div>';
            }
        }

        // Step 3: Final checklist
        html += '<div style="background: #f8f9fa; border: 1px solid #e1e5e9; border-left: 4px solid #0066cc; border-radius: 8px; padding: 20px; margin-bottom: 16px;">';
        html += '<h4 style="margin: 0 0 8px 0; color: #2c3e50;">STEP 3: AT THE RENTAL COUNTER CHECKLIST</h4>';
        html += '<p style="margin: 0 0 12px 0; color: #666; font-size: 14px;">Final steps when picking up your car</p>';
        html += '<div style="background: #f8f9fa; padding: 12px; border-radius: 4px; margin: 8px 0; border-left: 3px solid #0066cc;">âœ“ Pay with your Chase Business Ink card</div>';
        html += '<div style="background: #f8f9fa; padding: 12px; border-radius: 4px; margin: 8px 0; border-left: 3px solid #0066cc;">âœ“ DECLINE collision damage waiver (CDW/LDW)</div>';
        
        if (state === "California" && personalAuto !== "yes") {
            html += '<div style="background: #f8f9fa; padding: 12px; border-radius: 4px; margin: 8px 0; border-left: 3px solid #0066cc;">âœ“ BUY liability insurance (required in California)</div>';
        } else if (personalAuto === "no" || personalAuto === "unsure") {
            html += '<div style="background: #f8f9fa; padding: 12px; border-radius: 4px; margin: 8px 0; border-left: 3px solid #0066cc;">âœ“ Consider buying liability insurance for extra protection</div>';
        }
        
        html += '<div style="background: #f8f9fa; padding: 12px; border-radius: 4px; margin: 8px 0; border-left: 3px solid #0066cc;">âœ“ Take photos of the car before driving</div>';
        html += '<div style="background: #f8f9fa; padding: 12px; border-radius: 4px; margin: 8px 0; border-left: 3px solid #0066cc;">âœ“ Keep your rental agreement and receipts</div>';
        html += '</div>';

        resultsDiv.innerHTML = html;
        resultsDiv.style.display = 'block';
    }
})();
</script>
